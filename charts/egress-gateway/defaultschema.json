{
	"$schema":"http://json-schema.org/draft-07/schema#",
	"title":"sample config json",
	"description":"json validator",
	"type":"object",
	"properties":{
		"logging":{
			"type":"object",
			"description":"An explanation about the purpose of this instance.",
			"properties":{
				"appLogLevel":{
					"enum":[
						"INFO",
						"DEBUG",
						"WARN",
						"ERROR",
						"FATAL",
						"OFF",
						"TRACE",
						"ALL"
					],
					"type":"string",
					"description":"An explanation about the purpose of this instance."
				},
				"packageLogLevel":{
					"type":"array",
					"minItems":2,
					"maxItems":2,
					"uniqueItems":true,
					"items":{
						"anyOf":[
							{
								"type":"object",
								"properties":{
									"packageName":{
										"enum":[
											"root",
											"oauth"
										],
										"type":"string",
										"description":"An explanation about the purpose of this instance."
									},
									"logLevelForPackage":{
										"enum":[
											"INFO",
											"DEBUG",
											"WARN",
											"ERROR",
											"FATAL",
											"OFF",
											"TRACE",
											"ALL"
										],
										"type":"string",
										"description":"An explanation about the purpose of this instance."
									}
								},
								"required":[
									"packageName",
									"logLevelForPackage"
								],
								"description":"An explanation about the purpose of this instance."
							}
						]
					},
					"description":"An explanation about the purpose of this instance."
				}
			},
			"required":[
				"appLogLevel",
				"packageLogLevel"
			]
		},
		"forwardheaderdetails":{
			"type":"object",
			"description":"Resource to populate forward headers in outgoing request",
			"properties":{
				"enabled":{
					"type":"boolean"
				},
				"forwardHeaderValue":{
					"type":"string"
				}
			},
			"required":[
				"enabled"
			]
		},
		"messagelogging":{
			"type":"object",
			"required":[
				"enabled"
			],
			"properties":{
				"enabled":{
					"type":"boolean"
				},
				"responseCodeSeries":{
					"type":"array",
					"additionalItems":true,
					"items":{
						"anyOf":[
							{
								"type":"object",
								"required":[
									"responseSet",
									"responseCodes"
								],
								"properties":{
									"responseSet":{
										"type":"string",
										"enum":[
											"1xx",
											"2xx",
											"3xx",
											"4xx",
											"5xx"
										]
									},
									"responseCodes":{
										"type":"array",
										"additionalItems":true,
										"items":{
											"anyOf":[
												{
													"type":"integer",
													"enum":[
														-1,
														100,
														101,
														102,
														103,
														200,
														201,
														202,
														203,
														204,
														205,
														206,
														207,
														208,
														226,
														300,
														301,
														302,
														303,
														304,
														305,
														306,
														307,
														308,
														400,
														401,
														402,
														403,
														404,
														405,
														406,
														407,
														408,
														409,
														410,
														411,
														412,
														413,
														414,
														415,
														416,
														417,
														418,
														421,
														422,
														423,
														424,
														425,
														426,
														428,
														429,
														431,
														444,
														451,
														499,
														500,
														501,
														502,
														503,
														504,
														505,
														506,
														507,
														508,
														510,
														511,
														599
													]
												}
											]
										}
									}
								}
							}
						]
					}
				},
				"whiteListedHeaders":{
					"type":"array",
					"additionalItems":true,
					"items":{
						"anyOf":[
							{
								"type":"string"
							}
						]
					}
				}
			}
		},
		"peerconfiguration":{
			"type":[
				"array",
				"null"
			],
			"additionalItems":true,
			"uniqueItems":true,
			"items":{
				"anyOf":[
					{
						"type":"object",
						"required":[
							"id"
						],
						"additionalProperties":false,
						"properties":{
							"id":{
								"type":"string"
							},
							"host":{
								"type":"string",
								"anyOf":[
									{
										"format":"hostname"
									},
									{
										"format":"ipv4"
									},
									{
										"format":"ipv6"
									}
								]
							},
							"port":{
								"type":"string"
							},
							"virtualHost":{
								"type":"string"
							},
							"apiPrefix":{
								"type":"string"
							},
							"healthApiPath":{
								"type":"string"
							}
						}
					}
				]
			}
		},

		"peersetconfiguration":{
			"type":[
				"array",
				"null"
			],
			"additionalItems":true,
			"uniqueItems":true,
			"items":{
				"anyOf":[
					{
						"type":"object",
						"required":[
							"id"
						],
						"additionalProperties":false,
						"properties":{
							"id":{
								"type":"string"
							},
							"httpConfiguration":{
								"type":"array",
								"additionalItems":true,
								"uniqueItems":true,
								"items":{
									"anyOf":[
										{
											"type":"object",
											"required":[
												"priority",
												"peerIdentifier"
											],
											"properties":{
												"priority":{
													"type":"integer"
												},
												"peerIdentifer":{
													"type":"string"
												}
											}
										}
									]
								}
							},
							"httpsConfiguration":{
								"type":"array",
								"additionalItems":true,
								"uniqueItems":true,
								"items":{
									"anyOf":[
										{
											"type":"object",
											"required":[
												"priority",
												"peerIdentifier"
											],
											"properties":{
												"priority":{
													"type":"integer"
												},
												"peerIdentifer":{
													"type":"string"
												}
											}
										}
									]
								}
							}
						}
					}
				]
			}
		},
		"peermonitoringconfiguration":{
			"type":"object",
			"description":"Configuration for peer monitoring configuration",
			"additionalProperties":false,
			"required":[
				"enabled",
				"timeout",
				"frequency",
				"failureThreshold",
				"successThreshold"
			],
			"properties":{
				"enabled":{
					"type":"boolean"
				},
				"timeout":{
					"type":"number",
					"minimum": 1
				},
				"frequency":{
					"type":"number",
					"minimum": 1
				},
				"failureThreshold":{
					"type":"number",
					"minimum": 1
				},
				"successThreshold":{
					"type":"number",
					"minimum": 1
				}
			}
		},
		"routesconfiguration":{
			"type":[
				"array",
				"null"
			],
			"additionalItems":false,
			"uniqueItems":false,
			"items":{
				"anyOf":[
					{
						"type":"object",
						"required":[
							"id"
						],
						"properties":{
							"id":{
								"type":"string"
							},
							"uri":{
								"type":"string"
							},
							"order":{
								"type":"integer"
							},
							"predicates":{
								"type":"array",
								"additionalItems":true,
								"uniqueItems":true,
								"items":{
									"anyOf":[
										{
											"type":"object",
											"required":[
												"name",
												"args"
											],
											"properties":{
												"name":{
													"type":"string"
												},
												"args":{
													"type":"object",
													"patternProperties":{
														".{1,}":{
															"type":["string","boolean"]
														}
													}
												}
											}
										}
									]
								}
							},
							"filters":{
								"type":"array",
								"additionalItems":false,
								"items":{
									"anyOf":[
										{
											"type":"object",
											"required":[
												"name"
											],
											"properties":{
												"name":{
													"type":"string",
													"enum":[
														"SbiRouting",
														"InvalidRouteFilter",
														"SBIReroute",
														"CustomReqHeaderEntryFilter",
														"CustomReqHeaderExitFilter",
														"CustomResHeaderEntryFilter",
														"CustomResHeaderExitFilter",
														"ScpRetry",
														"DedupeResponseHeader",
														"RemoveRequestHeader",
														"RemoveResponseHeader",
														"SubActLog",
														"DefaultRouteRetry",
														"ControlledShutdownFilter"
													]
												},
												"args":{
													"anyOf":[
														{
															"type":"object",
															"patternProperties":{
																".{1,}":{
																	"type":"string"
																}
															}
														},
														{
															"type":"object"
														},
														{
															"type":[
																"array",
																"null"
															],
															"default":[

															],
															"additionalItems":true,
															"items":{
																"anyOf":[
																	{
																		"type": "string"
																	},
																	{
																		"type":"object",
																		"patternProperties":{
																			".{1,}":{
																				"type":"number"
																			}
																		}
																	},
																	{
																		"type":"object",
																		"patternProperties":{
																			".{1,}":{
																				"type":"string"
																			}
																		}
																	},
																	{
																		"type":"object",
																		"patternProperties":{
																			".{1,}":{
																				"type":"boolean"
																			}
																		}
																	},
																	{
																		"type":"object",
																		"patternProperties":{
																			".{1,}":{
																				"type":"object"
																			}
																		}
																	}
																]
															}
														}
													]
												}
											}
										}
									]
								}
							},
							"metadata":{
								"type":"object",
								"patternProperties":{
									".{1,}":{
										"type":[
											"string",
											"object",
											"array",
											"boolean",
											"number"
										]
									}
								}
							}
						}
					}
				]
			}
		},
		"useragentheader":{
			"type":"object",
			"description":"Configuration for generating user agent header",
			"additionalProperties":false,
			"required":[
				"enabled",
				"overwriteHeader"
			],
			"properties":{
				"enabled":{
					"type":"boolean"
				},
				"overwriteHeader":{
					"type":"boolean"
				},
				"nfType":{
					"type":"string"
				},
				"nfInstanceId":{
					"type":"string"
				},
				"nfFqdn":{
					"type":"string"
				},
				"addFqdnToHeader":{
					"type":"boolean"
				}
			}
		},
		"sbiroutingerrorcriteriasets":{
			"type":[
				"array",
				"null"
			],
			"additionalItems":true,
			"uniqueItems":true,
			"item":{
				"anyOf":[
					{
						"type":"object",
						"additionalProperties":false,
						"properties":{
							"id":{
								"type":"string"
							},
							"method":{
								"type":"array",
								"items":{
									"type":"string",
									"enum":[
										"GET",
										"POST",
										"PUT",
										"DELETE",
										"PATCH",
										"HEAD",
										"OPTIONS"
									]
								}
							},
							"exceptions":{
								"type":"array",
								"items":{
									"type":"string"
								}
							},
							"response":{
								"type":"object",
								"additionalProperties":false,
								"properties":{
									"statuses":{
										"type":"array",
										"items":{
											"anyOf":[
												{
													"type":"object",
													"additionalProperties":false,
													"properties":{
														"statusSeries":{
															"type":"string",
															"enum":[
																"1xx",
																"2xx",
																"3xx",
																"4xx",
																"5xx"
															]
														},
														"status":{
															"type":"array",
															"items":{
																"type":"integer",
																"enum":[
																	-1,
																	100,
																	101,
																	102,
																	103,
																	200,
																	201,
																	202,
																	203,
																	204,
																	205,
																	206,
																	207,
																	208,
																	226,
																	300,
																	301,
																	302,
																	303,
																	304,
																	305,
																	306,
																	307,
																	308,
																	400,
																	401,
																	402,
																	403,
																	404,
																	405,
																	406,
																	407,
																	408,
																	409,
																	410,
																	411,
																	412,
																	413,
																	414,
																	415,
																	416,
																	417,
																	418,
																	421,
																	422,
																	423,
																	424,
																	425,
																	426,
																	428,
																	429,
																	431,
																	444,
																	451,
																	499,
																	500,
																	501,
																	502,
																	503,
																	504,
																	505,
																	506,
																	507,
																	508,
																	510,
																	511,
																	599
																]
															}
														}
													},
													"required":[
														"status",
														"statusSeries"
													]
												}
											]
										}
									},
									"headersMatchingScript":{
										"type":"string"
									}
								},
								"required":[
									"statuses"
								]
							}
						},
						"required":[
							"id",
							"method"
						],
						"oneOf":[
							{
								"required":[
									"response"
								]
							},
							{
								"required":[
									"exceptions"
								]
							}
						]
					}
				]
			}
		},
		"sbiroutingerroractionsets":{
			"type":[
				"array",
				"null"
			],
			"additionalItems":true,
			"uniqueItems":true,
			"item":{
				"anyOf":[
					{
						"type":"object",
						"additionalProperties":false,
						"properties":{
							"id":{
								"type":"string"
							},
							"action":{
								"type":"string",
								"enum":[
									"reroute",
									"retry"
								]
							},
							"attempts":{
								"type":"integer"
							},
							"blacklist":{
								"type":"object",
								"additionalProperties":false,
								"properties":{
									"enabled":{
										"type":"boolean"
									},
									"duration":{
										"type":"integer"
									}
								},
								"required":[
									"duration",
									"enabled"
								]
							}
						},
						"required":[
							"action",
							"attempts",
							"id"
						]
					}
				]
			}
		},
		"errorcodeprofiles": {
			"type": ["array","null"],
			"description": "An explanation about the purpose of this instance.",
			"default": [],
			"uniqueItems": true,
			"items": {
				"anyOf": [
					{
						"type": "object",
						"description": "An explanation about the purpose of this instance.",
						"required": [
							"name",
							"errorCode"
						],
						"properties": {
							"name": {
								"type": "string"
							},
							"errorCode": {
								"type": "integer",
								"enum": [100,101,102,103,200,201,202,203,204,205,206,207,208,226,300,301,302,303,304,305,306,307,308,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,421,422,423,424,425,426,428,429,431,444,451,499,500,501,502,503,504,505,506,507,508,510,511,599]
							},
							"errorDescription": {
								"type": "string",
								"default": ""
							},
							"errorTitle": {
								"type": "string",
								"default": ""
							},
							"errorCause": {
								"type": "string",
								"default": ""
							},
							"redirectUrl": {
								"type": "string",
								"default": ""
							},
							"retryAfter": {
								"type": "string"
							}
						}
					}]
			}
		},
		"configurableerrorcodes":{
			"type": "object",
			"required": [
				"enabled",
				"errorScenarios"
			],
			"properties": {
				"enabled": {
					"type": "boolean"
				},
				"errorScenarios": {
					"type": ["array","null"],
					"uniqueItems": true,
					"items": {
						"anyOf": [
							{
								"type": "object",
								"required": [
									"exceptionType",
									"errorProfileName"
								],
								"properties": {
									"exceptionType": {
										"type": "string",
										"enum": [
											"CONNECTION_TIMEOUT",
											"REQUEST_TIMEOUT",
											"UNKNOWN_HOST_EXCEPTION",
											"CONNECT_EXCEPTION",
											"REJECTED_EXECUTION_EXCEPTION",
											"CLOSED_CHANNEL_EXCEPTION",
											"SSL_HANDSHAKE_EXCEPTION",
											"INTERNAL_ERROR",
											"NOT_FOUND_EXCEPTION",
											"LATE_ARRIVAL_EXCEPTION",
											"INVALID_HTTP_REQUEST_EXCEPTION",
											"NOTIFICATION_RATE_LIMIT",
											"RETRY_AFTER_ERROR",
											"GRACEFUL_SHUTDOWN",
											"VIRTUAL_HOST_RESOLUTION_ERROR",
											"INVALID_OAUTH_TOKEN_REQUEST",
											"OAUTH_INTERNAL_ERROR",
											"OAUTH_TOKEN_RETRIEVAL_FAILURE",
											"OAUTH_NRF_RESPONSE_FAILURE"
										]
									},
									"errorProfileName": {
										"type": "string"
									}
								}
							}]
					}
				}
			}
		},
		"controlledshutdownerrormapping" : {
			"type": "object",
			"additionalProperties": false,
			"required": ["routeErrorProfileList"],
			"properties": {
				"routeErrorProfileList":{
					"type":["array", "null"],
					"uniqueItems":true,
					"items":{
						"anyOf":[
							{
								"type":"object",
								"required":[
									"routeId",
									"errorProfileName"
								],
								"additionalProperties":false,
								"properties":{
									"routeId":{
										"type":"string"
									},
									"errorProfileName": {"type":"string"}
								}
							}
						]
					}
				}
			}
		},
		"applicationparams": {
			"type": "object",
			"additionalProperties":false,
			"properties": {
				"operationalState": {
					"type": "string",
					"enum": ["NORMAL","PARTIAL_SHUTDOWN","COMPLETE_SHUTDOWN"]
				}
			}
		},
		"retryprofile": {
			"type": "object",
			"description": "Configuration for default route retry profile",
			"additionalProperties": false,
			"required": [
				"retryCount",
				"requestTimeout",
				"statuses",
				"exceptions"
			],
			"properties": {
				"retryCount": {
					"type": "integer"
				},
				"requestTimeout": {
					"type": "integer"
				},
				"statuses": {
					"type": "array"
				},
				"exceptions": {
					"type": "array"
				}

			}

		}
	}
}